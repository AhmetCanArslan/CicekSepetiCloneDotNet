@page
@model CicekSepetiCloneDotNet.Pages.Products.PreviewModel
@{
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

@if (Model.message.Length > 0)
{
    <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="successModalLabel">Başarılı</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <strong>@Model.message</strong>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Tamam</button>
                </div>
            </div>
        </div>
    </div>
}

<main class="product-details">

    <div class="product-image">
        <img src="~/assets/products/@Model.productInfo.product_image" alt="Ürün Adı">
    </div>
    <div class="product-info">
        <h1>@Model.productInfo.product_name</h1>
        <p class="price">₺@Model.productInfo.product_price </p>
        <p class="description">@Model.productInfo.product_description</p>
        <p class="stock">Stoktaki Adet: @Model.productInfo.product_quantity</p>
        <p class="stock">Satıcı: @Model.productInfo.product_seller_name</p>

        <a class="add-to-cart" href="/Products/AddToCart?product_id=@Model.product_id&user_id=@Model.user_id">Sepete Ekle</a>
    </div>

    
</main>
<!-- Yorumlar bölümü alt tarafa yerleştirildi -->

<div class="comments-section">
  <h2>Yorumlar (@Model.commentCounter)</h2>
    
    
        @foreach (var comment in Model.commentInfos)
    {
        <div class="comment">
            <div>
                <h3>@comment.user_name</h3>
                <small>@comment.date</small>
                <p>@comment.comment</p>
            </div>
            <div class="comment-footer">
                <div class="thumbs-up">
                    <h3>@comment.commentTitle</h3>

                </div>
            </div>
        </div>
        }
   
    
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
    if (@(Model.message.Length > 0 ? "true" : "false")) {
        var successModal = new bootstrap.Modal(document.getElementById('successModal'));
        successModal.show();
        }
    });
</script>

