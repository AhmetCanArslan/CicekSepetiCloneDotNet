@page
@model CicekSepetiCloneDotNet.Pages.Cart.PaymentModel
@{
    var cartItems = Model.listOrder; // Sepet ürünleri
    //var totalPrice = cartItems.Sum(item => item.ProductPrice * item.Quantity); // Toplam tutar
}
<head>
    <link rel="stylesheet" href="~/css/payment.css" />
</head>
<div class="container mt-5">
    <h2>Ödeme Sayfası</h2>

    <!-- Kullanıcı Bilgileri Formu -->
    <form method="post">
        <h4>Kullanıcı Bilgileri</h4>
        <div class="form-group">
            <label for="name">Ad Soyad</label>
            <input type="text" class="form-control" id="name" name="name" placeholder="Adınız ve Soyadınız" required>
        </div>
        <div class="form-group">
            <label for="email">E-posta</label>
            <input type="email" class="form-control" id="email" name="email" placeholder="E-posta adresiniz" required>
        </div>
        <div class="form-group">
            <label for="phone">Telefon Numarası</label>
            <input type="text" class="form-control" id="phone" name="phone" placeholder="Telefon numaranız" required>
        </div>

        <!-- Adres Bilgileri -->
        <h4>Adres Bilgileri</h4>
        <div class="form-group">
            <label for="address">Adres</label>
            <input type="text" class="form-control" id="address" name="address" placeholder="Adresinizi girin" required>
        </div>
        <div class="form-group">
            <label for="city">Şehir</label>
            <input type="text" class="form-control" id="city" name="city" placeholder="Şehir" required>
        </div>
        <div class="form-group">
            <label for="postalCode">Posta Kodu</label>
            <input type="text" class="form-control" id="postalCode" name="postalCode" placeholder="Posta Kodu" required>
        </div>

        <!-- Ödeme Yöntemi -->
        <h4>Ödeme Yöntemi</h4>
        <div class="form-group">
            <label for="paymentMethod">Ödeme Yöntemi Seçin</label>
            <select class="form-control" id="paymentMethod" name="paymentMethod" required>
                <option value="creditCard">Kredi Kartı</option>
                <option value="bankTransfer">Banka Havalesi</option>
                <option value="cashOnDelivery">Kapıda Ödeme</option>
            </select>
        </div>

        <!-- Sepet Özeti -->
        <h4>Sepet Özeti</h4>
        <table class="table">
            <thead>
                <tr>
                    <th>Ürün Adı</th>
                    <th>Adet</th>
                    <th>Fiyat</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in cartItems)
                {
                    <tr>
                        <td>@item.product_name</td>
                        <td>@item.productQuantity</td>
                        <td>₺ PRİCE</td>
                    </tr>
                }
                <tr>
                    <td colspan="2" class="text-right"><strong>Toplam Tutar:</strong></td>
                    <td><strong>₺ totalPrice</strong></td>
                </tr>
            </tbody>
        </table>

        <!-- Ödeme Butonu -->
        <button type="submit" class="btn btn-primary btn-lg btn-block">Ödemeyi Tamamla</button>
    </form>
</div>
